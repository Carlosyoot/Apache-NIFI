<extensionManifest><groupId>intelipost.nifi</groupId><artifactId>nifi-SecretManager-nar</artifactId><version>1.0</version><systemApiVersion>1.22.0</systemApiVersion><buildInfo><tag>nifi-1.22.0-RC1</tag></buildInfo><extensions><extension><name>intelipost.nifi.processors.SecretManager.SecretManager</name><type>PROCESSOR</type><description>Gera chaves secretas para validação de segurança, ou cria arquivos PEM (chaves públicas e privadas) para assinar tokens JWT. Existem dois tipos de chave: 

1. **Cliente**: Gera uma chave secreta aleatória (UUID) usada para validação de rotas, senhas e outros processos de segurança específicos da aplicação. 

2. **Aplicação**: Gera um par de chaves RSA (públicas e privadas), que são utilizadas para assinar e verificar tokens JWT. Esses pares de chaves são armazenados de forma segura e encriptada. 

O processador pode forçar a criação de uma nova chave a cada execução com a configuração 'Forçar Nova Chave'. Se definida como **true**, uma nova chave será gerada, invalidando as anteriores. Caso contrário, a mesma chave será retornada por padrão, garantindo consistência ao longo do tempo.

As chaves públicas e privadas devem ser conhecidas apenas pela aplicação, garantindo a segurança dos dados e da comunicação.</description><tags><tag>security</tag><tag>token</tag><tag>provider</tag><tag>auth</tag><tag>secret</tag><tag>jwt</tag></tags><properties><property><name>key-type</name><displayName>Tipo de Chave</displayName><description>Define se o processador vai gerar/recuperar chave para CLIENTE (string aleatória) ou APLICAÇÃO (par RSA).</description><defaultValue>Cliente</defaultValue><allowableValues><allowableValue><displayName>Cliente</displayName><value>Cliente</value><description></description></allowableValue><allowableValue><displayName>Aplicação</displayName><value>Aplicação</value><description></description></allowableValue></allowableValues><required>true</required><sensitive>false</sensitive><expressionLanguageSupported>false</expressionLanguageSupported><expressionLanguageScope>NONE</expressionLanguageScope><dynamicallyModifiesClasspath>false</dynamicallyModifiesClasspath><dynamic>false</dynamic></property><property><name>Forçar Nova Chave</name><displayName>Forçar Nova Chave</displayName><description>Se verdadeiro, uma nova secret key será gerada a cada execução, substituindo a existente.</description><defaultValue>false</defaultValue><allowableValues><allowableValue><displayName>true</displayName><value>true</value><description></description></allowableValue><allowableValue><displayName>false</displayName><value>false</value><description></description></allowableValue></allowableValues><required>true</required><sensitive>false</sensitive><expressionLanguageSupported>false</expressionLanguageSupported><expressionLanguageScope>NONE</expressionLanguageScope><dynamicallyModifiesClasspath>false</dynamicallyModifiesClasspath><dynamic>false</dynamic></property></properties><relationships><relationship><name>Sucesso</name><description>Sucesso na geração ou recuperação da chave secreta.</description><autoTerminated>false</autoTerminated></relationship><relationship><name>Falha</name><description>Falha na geração ou persistência da chave secreta.</description><autoTerminated>false</autoTerminated></relationship></relationships><readsAttributes><readsAttribute><name></name><description></description></readsAttribute></readsAttributes><writesAttributes><writesAttribute><name>secret.key</name><description>A chave secreta gerada e persistida para assinatura de JWTs</description></writesAttribute></writesAttributes></extension></extensions></extensionManifest>